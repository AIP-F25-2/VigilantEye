from marshmallow import Schema, fields, validate

class AnalyticsSchema(Schema):
    """Analytics schema for serialization"""
    id = fields.Integer(dump_only=True)
    event_type = fields.String(dump_only=True)
    event_name = fields.String(dump_only=True)
    resource_type = fields.String(dump_only=True)
    resource_id = fields.String(dump_only=True)
    user_id = fields.Integer(dump_only=True)
    session_id = fields.String(dump_only=True)
    ip_address = fields.String(dump_only=True)
    user_agent = fields.String(dump_only=True)
    analytics_data = fields.Dict(dump_only=True)
    duration_seconds = fields.Float(dump_only=True)
    country = fields.String(dump_only=True)
    city = fields.String(dump_only=True)
    timezone = fields.String(dump_only=True)
    device_type = fields.String(dump_only=True)
    browser = fields.String(dump_only=True)
    os = fields.String(dump_only=True)
    created_at = fields.DateTime(dump_only=True)
    updated_at = fields.DateTime(dump_only=True)

class ViewEventSchema(Schema):
    """View event schema"""
    id = fields.Integer(dump_only=True)
    video_id = fields.Integer(dump_only=True)
    user_id = fields.Integer(dump_only=True)
    session_id = fields.String(dump_only=True)
    started_at = fields.DateTime(dump_only=True)
    ended_at = fields.DateTime(dump_only=True)
    duration_seconds = fields.Float(dump_only=True)
    start_position = fields.Float(dump_only=True)
    end_position = fields.Float(dump_only=True)
    max_position = fields.Float(dump_only=True)
    completion_percentage = fields.Float(dump_only=True)
    quality_level = fields.String(dump_only=True)
    buffering_events = fields.Integer(dump_only=True)
    total_buffering_time = fields.Float(dump_only=True)
    pause_count = fields.Integer(dump_only=True)
    seek_count = fields.Integer(dump_only=True)
    fullscreen_entered = fields.Boolean(dump_only=True)
    ip_address = fields.String(dump_only=True)
    user_agent = fields.String(dump_only=True)
    referrer = fields.String(dump_only=True)
    created_at = fields.DateTime(dump_only=True)
    updated_at = fields.DateTime(dump_only=True)
